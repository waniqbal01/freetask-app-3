# ⚠️ SECURITY WARNING: NEVER use wildcard '*' in ALLOWED_ORIGINS for production.
# Explicitly list all client origins (web, mobile).
#
# NODE_ENV Configuration:
# - 'development': Enables auto-seed on empty DB, relaxed CORS, detailed error messages
# - 'production': Disables auto-seed, enforces ALLOWED_ORIGINS requirement (server exits if empty)
#
# UPLOAD_DIR Configuration:
# - Relative or absolute path for uploaded files
# - Default: ./uploads (already in .gitignore)
# - IMPORTANT: If you change this path, add it to .gitignore to prevent accidental commits
# - Production: Ensure directory exists and is writable (mkdir -p ./uploads && chown www-data:www-data ./uploads)
NODE_ENV=development  # Set to 'production' to enforce ALLOWED_ORIGINS requirement (API will exit at startup if ALLOWED_ORIGINS is empty)

DATABASE_URL=postgresql://USER:PASSWORD@localhost:5432/freetask?schema=public
JWT_SECRET=CHANGE_ME_SUPER_SECRET
# JWT token expiry times (examples: 15m, 1h, 7d)
# Development: JWT_REFRESH_EXPIRES_IN defaults to 7d if not set
# Production: JWT_REFRESH_EXPIRES_IN is required (server will fail at startup if missing)
JWT_ACCESS_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# CORS: comma-separated list of allowed origins
# Include localhost variants for web dev, 10.0.2.2 for Android emulator, LAN IP for physical devices
# 
# ⚠️ Flutter Web Dev: The Flutter web dev server uses RANDOM PORTS (e.g., http://localhost:63599).
# For seamless Flutter Web development, either:
#   1. Leave ALLOWED_ORIGINS empty (fallback to wildcard '*' in dev mode) - RECOMMENDED for dev
#   2. OR add specific port after `flutter run` tells you the URL
#
# Uncomment and customize for production:
# ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173,http://10.0.2.2:4000,http://localhost:4000,http://127.0.0.1:4000
#
# QA Lab Presets (Common Scenarios):
# ALLOWED_ORIGINS=http://192.168.1.100:3000,http://10.0.0.5:4000,http://qa-lab.internal:8080

# For development: Leave empty to allow all localhost origins (uses wildcard fallback)
ALLOWED_ORIGINS=

# Public base URL for generating upload/resource URLs
PUBLIC_BASE_URL=http://localhost:4000

# API listening port
PORT=4000

# Trust proxy headers when behind reverse proxy/ingress (set to 'true' in production)
TRUST_PROXY=false

# Upload directory (relative or absolute path)
# IMPORTANT: Ensure directory is writable: mkdir -p ./uploads && chmod 755 ./uploads
# Default: ./uploads if not specified
UPLOAD_DIR=./uploads
